2025-12-10 01:18:22 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Starting MultiTenantPlatformApplication using Java 21.0.7 with PID 4464 (C:\Users\ankur\multi-tenant-platform\multi-tenant-platform\target\classes started by ankur in C:\Users\ankur\multi-tenant-platform\multi-tenant-platform)
2025-12-10 01:18:22 [restartedMain] DEBUG c.s.p.MultiTenantPlatformApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-12-10 01:18:22 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-10 01:18:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-10 01:18:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-10 01:18:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 01:18:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-10 01:18:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 421 ms. Found 10 JPA repository interfaces.
2025-12-10 01:18:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 01:18:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ActivityLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ApiKeyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.FileStorageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.SubscriptionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.WebhookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 01:18:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-12-10 01:18:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-10 01:18:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-10 01:18:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-10 01:18:31 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-10 01:18:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 8171 ms
2025-12-10 01:18:31 [restartedMain] DEBUG c.s.p.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-10 01:18:31 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10 01:18:31 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-12-10 01:18:31 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-10 01:18:32 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-10 01:18:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-10 01:18:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@71e95ede
2025-12-10 01:18:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-10 01:18:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10 01:18:33 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-10 01:18:36 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10 01:18:36 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 01:18:41 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 01:18:41 [restartedMain] INFO  c.saas.platform.service.EmailService - üìß EmailService Initialized
2025-12-10 01:18:41 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From: null
2025-12-10 01:18:41 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From Name: null
2025-12-10 01:18:41 [restartedMain] INFO  c.saas.platform.service.EmailService -   Frontend URL: null
2025-12-10 01:18:41 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 01:18:41 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-10 01:18:45 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 01:18:45 [restartedMain] INFO  c.s.p.service.PasswordResetService - üîê PasswordResetService Initialized
2025-12-10 01:18:45 [restartedMain] INFO  c.s.p.service.PasswordResetService -   Token Expiry: 0 minutes
2025-12-10 01:18:45 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 01:18:47 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-10 01:18:48 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c251cf9e-f55a-4916-bc88-6d1ba0fcfa89

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-10 01:18:48 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-10 01:18:49 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-10 01:18:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-10 01:18:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-10 01:18:52 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Started MultiTenantPlatformApplication in 31.084 seconds (process running for 33.003)
2025-12-10 01:18:52 [restartedMain] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.role=? 
    limit
        ?
2025-12-10 01:18:52 [restartedMain] INFO  c.s.p.config.StartupSuperAdminConfig - SUPER_ADMIN already exists ‚Üí skipping creation.
2025-12-10 01:19:13 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-10 01:19:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-10 01:19:13 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 11 ms
2025-12-10 01:19:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-12-10 01:19:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-12-10 01:19:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-12-10 01:19:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-12-10 01:19:13 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: POST /api/auth/login from 0:0:0:0:0:0:0:1
2025-12-10 01:19:13 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - No tenant identifier found in request
2025-12-10 01:19:13 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - No tenant identifier found, using default
2025-12-10 01:19:14 [http-nio-8080-exec-2] INFO  c.saas.platform.service.AuthService - Login attempt for email: user@gmail.com
2025-12-10 01:19:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:19:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:19:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* insert for
        com.saas.platform.model.ActivityLog */insert 
    into
        activity_logs (action, action_type, created_at, details, ip_address, tenant_id, user_agent, user_email, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-12-10 01:19:15 [http-nio-8080-exec-2] DEBUG c.s.p.service.ActivityLogService - Activity logged: Logged in by user@gmail.com
2025-12-10 01:19:15 [http-nio-8080-exec-2] INFO  c.saas.platform.service.AuthService - Login successful for user: user@gmail.com
2025-12-10 01:19:15 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:15 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: POST /api/auth/login completed in 1491ms
2025-12-10 01:19:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:19:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:19:15 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:19:15 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:15 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 119ms
2025-12-10 01:19:15 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:19:15 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:19:15 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:15 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 11ms
2025-12-10 01:19:15 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:19:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:19:54 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:19:54 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:54 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 13ms
2025-12-10 01:19:54 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:19:54 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:19:54 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:54 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 14ms
2025-12-10 01:19:54 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:57 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 14ms
2025-12-10 01:19:57 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 01:19:57 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:19:57 [http-nio-8080-exec-7] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:19:57 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 13ms
2025-12-10 01:19:57 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 63ms
2025-12-10 01:19:57 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 01:19:57 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 131ms
2025-12-10 01:19:57 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 53ms
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:19:57 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:57 [http-nio-8080-exec-7] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 37ms
2025-12-10 01:19:57 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 203ms
2025-12-10 01:19:57 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 01:19:57 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:19:57 [http-nio-8080-exec-8] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:19:57 [http-nio-8080-exec-8] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:57 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 81ms
2025-12-10 01:19:57 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:19:58 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:58 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 31ms
2025-12-10 01:19:58 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:19:58 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:19:58 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 23ms
2025-12-10 01:19:58 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:20:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:01 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:01 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:01 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 8ms
2025-12-10 01:20:01 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:01 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:01 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:01 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 6ms
2025-12-10 01:20:01 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:02 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:02 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:02 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 13ms
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:02 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:02 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:02 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:02 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 17ms
2025-12-10 01:20:02 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:04 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:04 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:04 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 12ms
2025-12-10 01:20:04 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:04 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:04 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:04 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 11ms
2025-12-10 01:20:04 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:05 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 24ms
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:05 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 25ms
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 01:20:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:05 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:20:05 [http-nio-8080-exec-1] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:20:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:20:05 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:05 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 14ms
2025-12-10 01:20:05 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:20:05 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:05 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 23ms
2025-12-10 01:20:05 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 01:20:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:20:05 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:05 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:06 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 01:20:06 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 43ms
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:06 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:06 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:06 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:06 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:06 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:06 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 41ms
2025-12-10 01:20:06 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:06 [http-nio-8080-exec-1] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:06 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 106ms
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:06 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 51ms
2025-12-10 01:20:06 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:06 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:06 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 68ms
2025-12-10 01:20:06 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 01:20:06 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 01:20:06 [http-nio-8080-exec-1] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-1] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:06 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 61ms
2025-12-10 01:20:06 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/settings/tenant/1/check-permission
2025-12-10 01:20:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/settings/tenant/1/check-permission
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/settings/tenant/1/check-permission
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/settings/tenant/1/check-permission
2025-12-10 01:20:06 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/settings/tenant/1/check-permission from 0:0:0:0:0:0:0:1
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/settings/tenant/1/check-permission
2025-12-10 01:20:06 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:07 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/settings/tenant/1/check-permission completed in 56ms
2025-12-10 01:20:07 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/settings/tenant/1/check-permission
2025-12-10 01:20:07 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/settings/tenant/1/check-permission from 0:0:0:0:0:0:0:1
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:07 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/settings/tenant/1/check-permission completed in 80ms
2025-12-10 01:20:07 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:20:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:10 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:10 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:10 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 4ms
2025-12-10 01:20:10 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:10 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:10 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:10 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 8ms
2025-12-10 01:20:10 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:14 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:14 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:14 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 6ms
2025-12-10 01:20:14 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:20:14 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:20:14 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:20:14 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 14ms
2025-12-10 01:20:14 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:36:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:36:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:36:01 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 01:36:01 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:36:01 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 107ms
2025-12-10 01:36:01 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 01:36:01 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@d7ec08d and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 01:36:01 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 01:36:01 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 49ms
2025-12-10 01:36:01 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 01:36:10 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m7s79ms638¬µs900ns).
2025-12-10 13:45:21 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Starting MultiTenantPlatformApplication using Java 21.0.7 with PID 8468 (C:\Users\ankur\multi-tenant-platform\multi-tenant-platform\target\classes started by ankur in C:\Users\ankur\multi-tenant-platform\multi-tenant-platform)
2025-12-10 13:45:21 [restartedMain] DEBUG c.s.p.MultiTenantPlatformApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-12-10 13:45:21 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-10 13:45:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-12-10 13:45:21 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-12-10 13:45:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:45:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 397 ms. Found 10 JPA repository interfaces.
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ActivityLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ApiKeyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.FileStorageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.SubscriptionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.WebhookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:45:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-12-10 13:45:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-10 13:45:41 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-10 13:45:41 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-10 13:45:42 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-10 13:45:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 21344 ms
2025-12-10 13:45:43 [restartedMain] DEBUG c.s.p.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-10 13:45:48 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10 13:45:49 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-12-10 13:45:50 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-10 13:45:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-10 13:45:57 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-10 13:45:59 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62ff64d6
2025-12-10 13:45:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-10 13:46:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10 13:46:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-10 13:46:20 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10 13:46:23 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 13:46:26 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:46:26 [restartedMain] INFO  c.saas.platform.service.EmailService - üìß EmailService Initialized
2025-12-10 13:46:26 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From: null
2025-12-10 13:46:26 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From Name: null
2025-12-10 13:46:26 [restartedMain] INFO  c.saas.platform.service.EmailService -   Frontend URL: null
2025-12-10 13:46:26 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:46:27 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-12-10 13:46:28 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:46:28 [restartedMain] INFO  c.s.p.service.PasswordResetService - üîê PasswordResetService Initialized
2025-12-10 13:46:28 [restartedMain] INFO  c.s.p.service.PasswordResetService -   Token Expiry: 0 minutes
2025-12-10 13:46:28 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:46:38 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-10 13:46:45 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8c2c0d36-69b3-401b-bc87-6ce465a6c38a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-10 13:46:46 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-10 13:46:50 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-10 13:47:03 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-10 13:47:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-10 13:47:03 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Started MultiTenantPlatformApplication in 103.518 seconds (process running for 105.075)
2025-12-10 13:47:04 [restartedMain] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.role=? 
    limit
        ?
2025-12-10 13:47:04 [restartedMain] INFO  c.s.p.config.StartupSuperAdminConfig - SUPER_ADMIN already exists ‚Üí skipping creation.
2025-12-10 13:47:10 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-10 13:47:10 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-10 13:47:10 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-12-10 13:47:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:47:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:47:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:47:11 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:47:11 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:11 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 346ms
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:47:11 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:47:11 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:47:11 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:11 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 27ms
2025-12-10 13:47:11 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 13:47:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:47:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:47:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:47:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:47:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 13:47:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:47:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:47:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:47:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:47:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 13:47:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:47:19 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:19 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 13:47:19 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:19 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:19 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:19 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:47:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:47:19 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:47:19 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:19 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:19 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:19 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:47:19 [http-nio-8080-exec-5] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 13:47:19 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:19 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:19 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:19 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:47:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:47:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:19 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:19 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:47:19 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:19 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:47:20 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:47:19 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:47:19 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:22 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:22 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 2928ms
2025-12-10 13:47:22 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:47:22 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:47:23 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:47:23 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:23 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 3539ms
2025-12-10 13:47:23 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:23 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 115ms
2025-12-10 13:47:23 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:23 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 4002ms
2025-12-10 13:47:23 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-5] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:47:23 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:47:23 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:23 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:23 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 24ms
2025-12-10 13:47:23 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:23 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:23 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 4297ms
2025-12-10 13:47:23 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:23 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 41ms
2025-12-10 13:47:23 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 13:47:23 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:47:23 [http-nio-8080-exec-1] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:47:23 [http-nio-8080-exec-1] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:23 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 68ms
2025-12-10 13:47:23 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:47:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:47:40 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:47:41 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:41 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 156ms
2025-12-10 13:47:41 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:47:41 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:41 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:42 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 1181ms
2025-12-10 13:47:42 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:47:43 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:43 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 97ms
2025-12-10 13:47:43 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:47:43 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:43 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 229ms
2025-12-10 13:47:43 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:47:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:47:44 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:47:44 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:44 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 16ms
2025-12-10 13:47:44 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:47:44 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:47:44 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:47:44 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 14ms
2025-12-10 13:47:44 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/settings/tenant/1/check-permission
2025-12-10 13:48:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/settings/tenant/1/check-permission
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:14 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/settings/tenant/1/check-permission from 0:0:0:0:0:0:0:1
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:15 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:16 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:16 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/settings/tenant/1/check-permission completed in 1456ms
2025-12-10 13:48:16 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:17 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:24 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:24 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/settings/tenant/1/check-permission from 0:0:0:0:0:0:0:1
2025-12-10 13:48:24 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:24 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:25 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:25 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/settings/tenant/1/check-permission completed in 1088ms
2025-12-10 13:48:25 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:48:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:44 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:44 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:44 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 22ms
2025-12-10 13:48:44 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:44 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:44 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:44 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 14ms
2025-12-10 13:48:44 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/settings/tenant/1/check-permission
2025-12-10 13:48:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/settings/tenant/1/check-permission
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:47 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/settings/tenant/1/check-permission from 0:0:0:0:0:0:0:1
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:47 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/settings/tenant/1/check-permission completed in 61ms
2025-12-10 13:48:47 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/settings/tenant/1/check-permission
2025-12-10 13:48:47 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/settings/tenant/1/check-permission from 0:0:0:0:0:0:0:1
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:47 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/settings/tenant/1/check-permission completed in 72ms
2025-12-10 13:48:47 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:48:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:51 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:51 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:51 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 29ms
2025-12-10 13:48:51 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:51 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:51 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:51 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 35ms
2025-12-10 13:48:51 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:54 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:54 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 52ms
2025-12-10 13:48:54 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:54 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:54 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 102ms
2025-12-10 13:48:54 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 13:48:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 13:48:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:48:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:48:55 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:55 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 41ms
2025-12-10 13:48:55 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 13:48:55 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:48:55 [http-nio-8080-exec-9] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:48:55 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:48:55 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:55 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 22ms
2025-12-10 13:48:55 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:48:55 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:55 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 246ms
2025-12-10 13:48:55 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 277ms
2025-12-10 13:48:55 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:48:55 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:48:55 [http-nio-8080-exec-9] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 13:48:55 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:55 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 162ms
2025-12-10 13:48:55 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:55 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 254ms
2025-12-10 13:48:55 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:55 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 527ms
2025-12-10 13:48:55 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 13:48:55 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:48:55 [http-nio-8080-exec-4] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:48:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:48:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:48:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:48:56 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:48:56 [http-nio-8080-exec-4] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 13:48:56 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:48:56 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 286ms
2025-12-10 13:48:56 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:49:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:49:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:49:26 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:49:26 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:49:26 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 26ms
2025-12-10 13:49:26 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:49:26 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:49:26 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:49:26 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 14ms
2025-12-10 13:49:26 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:49:30 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:49:30 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:49:30 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 26ms
2025-12-10 13:49:30 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:49:30 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:49:30 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:49:30 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 106ms
2025-12-10 13:49:30 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:49:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:49:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:49:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:49:59 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:49:59 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:49:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:49:59 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:49:59 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:49:59 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:00 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:00 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:00 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 45ms
2025-12-10 13:50:00 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:00 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:00 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:00 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 41ms
2025-12-10 13:50:00 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:08 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:08 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:08 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 17ms
2025-12-10 13:50:08 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:08 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:08 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:08 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 16ms
2025-12-10 13:50:08 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:12 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:12 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:12 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 92ms
2025-12-10 13:50:12 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:12 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:12 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:12 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 72ms
2025-12-10 13:50:12 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:17 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:17 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:17 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 27ms
2025-12-10 13:50:17 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:17 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:17 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:17 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 34ms
2025-12-10 13:50:17 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:18 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:18 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:18 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 66ms
2025-12-10 13:50:18 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:18 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:18 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:18 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 21ms
2025-12-10 13:50:18 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:51 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:51 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:51 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:51 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:51 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:52 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:52 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:52 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:52 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:52 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:52 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 306ms
2025-12-10 13:50:52 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:52 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:52 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 201ms
2025-12-10 13:50:52 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:53 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:53 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:53 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 82ms
2025-12-10 13:50:53 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:53 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:53 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:53 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 40ms
2025-12-10 13:50:53 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:55 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:55 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:55 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 148ms
2025-12-10 13:50:55 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:50:55 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:50:55 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:50:55 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 15ms
2025-12-10 13:50:55 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:51:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:51:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:09 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:09 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:09 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:09 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:09 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:10 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:10 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:10 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 101ms
2025-12-10 13:51:10 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:10 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:10 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:10 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 41ms
2025-12-10 13:51:10 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:15 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:15 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:15 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 61ms
2025-12-10 13:51:15 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:15 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:15 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:15 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 48ms
2025-12-10 13:51:15 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:51:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:19 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:19 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:19 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 110ms
2025-12-10 13:51:19 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:19 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:19 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:19 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 107ms
2025-12-10 13:51:19 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 13:51:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 13:51:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:21 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 13:51:21 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:51:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:51:21 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:21 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:21 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:21 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:21 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:51:21 [http-nio-8080-exec-6] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:21 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 234ms
2025-12-10 13:51:21 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:21 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:22 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:22 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:22 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 125ms
2025-12-10 13:51:22 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:22 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:51:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:51:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:22 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:22 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:51:22 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:22 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 967ms
2025-12-10 13:51:22 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:22 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:22 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 13:51:22 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 1155ms
2025-12-10 13:51:22 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:22 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:22 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 139ms
2025-12-10 13:51:22 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 13:51:22 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:22 [http-nio-8080-exec-6] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:22 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 1282ms
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:22 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 13:51:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:51:22 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:51:22 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:51:22 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:23 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 201ms
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:51:23 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:51:23 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:23 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 52ms
2025-12-10 13:51:23 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:23 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:23 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:23 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 13:51:23 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:51:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController]
2025-12-10 13:51:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.UserController.getUsersByTenant(java.lang.Long); target is of class [com.saas.platform.controller.UserController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@4be9c24c and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('TENANT_ADMIN', 'SUPER_ADMIN')]
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 13:51:23 [http-nio-8080-exec-6] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 13:51:23 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-10 13:51:23 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:23 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 11ms
2025-12-10 13:51:23 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:51:23 [http-nio-8080-exec-6] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:51:23 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 301ms
2025-12-10 13:51:23 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:56:32 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-10 13:56:33 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-10 13:56:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-10 13:56:34 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 13:56:34 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-10 13:56:35 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-10 13:56:40 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Starting MultiTenantPlatformApplication using Java 21.0.7 with PID 8468 (C:\Users\ankur\multi-tenant-platform\multi-tenant-platform\target\classes started by ankur in C:\Users\ankur\multi-tenant-platform\multi-tenant-platform)
2025-12-10 13:56:40 [restartedMain] DEBUG c.s.p.MultiTenantPlatformApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-12-10 13:56:40 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-10 13:56:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:56:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 405 ms. Found 10 JPA repository interfaces.
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ActivityLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ApiKeyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.FileStorageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.SubscriptionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.WebhookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:56:48 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 84 ms. Found 0 Redis repository interfaces.
2025-12-10 13:56:56 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-10 13:56:56 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-10 13:56:56 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-10 13:56:57 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-10 13:56:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 17581 ms
2025-12-10 13:56:57 [restartedMain] DEBUG c.s.p.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-10 13:57:00 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10 13:57:01 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-10 13:57:01 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-10 13:57:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-12-10 13:57:01 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@467e9587
2025-12-10 13:57:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-12-10 13:57:01 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10 13:57:01 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-10 13:57:15 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10 13:57:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 13:57:20 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:20 [restartedMain] INFO  c.saas.platform.service.EmailService - üìß EmailService Initialized
2025-12-10 13:57:20 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From: null
2025-12-10 13:57:20 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From Name: null
2025-12-10 13:57:20 [restartedMain] INFO  c.saas.platform.service.EmailService -   Frontend URL: null
2025-12-10 13:57:20 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:21 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:21 [restartedMain] INFO  c.s.p.service.PasswordResetService - üîê PasswordResetService Initialized
2025-12-10 13:57:21 [restartedMain] INFO  c.s.p.service.PasswordResetService -   Token Expiry: 0 minutes
2025-12-10 13:57:21 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:24 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-10 13:57:25 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ee55de34-f05c-4db8-858b-4ab876a066b9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-10 13:57:25 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-10 13:57:25 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-10 13:57:26 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-10 13:57:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-10 13:57:26 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Started MultiTenantPlatformApplication in 47.454 seconds (process running for 727.731)
2025-12-10 13:57:26 [restartedMain] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.role=? 
    limit
        ?
2025-12-10 13:57:26 [restartedMain] INFO  c.s.p.config.StartupSuperAdminConfig - SUPER_ADMIN already exists ‚Üí skipping creation.
2025-12-10 13:57:26 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-10 13:57:27 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-12-10 13:57:27 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-10 13:57:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-10 13:57:27 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 13:57:27 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-12-10 13:57:27 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-12-10 13:57:27 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Starting MultiTenantPlatformApplication using Java 21.0.7 with PID 8468 (C:\Users\ankur\multi-tenant-platform\multi-tenant-platform\target\classes started by ankur in C:\Users\ankur\multi-tenant-platform\multi-tenant-platform)
2025-12-10 13:57:27 [restartedMain] DEBUG c.s.p.MultiTenantPlatformApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-12-10 13:57:27 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 81 ms. Found 10 JPA repository interfaces.
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ActivityLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ApiKeyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.FileStorageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.SubscriptionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.WebhookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:28 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-12-10 13:57:28 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-10 13:57:28 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-10 13:57:28 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-10 13:57:28 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-10 13:57:28 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1175 ms
2025-12-10 13:57:29 [restartedMain] DEBUG c.s.p.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-10 13:57:29 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10 13:57:29 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-10 13:57:29 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-10 13:57:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-12-10 13:57:29 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2455a4ad
2025-12-10 13:57:29 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-12-10 13:57:29 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10 13:57:29 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-10 13:57:29 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10 13:57:29 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 13:57:30 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:30 [restartedMain] INFO  c.saas.platform.service.EmailService - üìß EmailService Initialized
2025-12-10 13:57:30 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From: null
2025-12-10 13:57:30 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From Name: null
2025-12-10 13:57:30 [restartedMain] INFO  c.saas.platform.service.EmailService -   Frontend URL: null
2025-12-10 13:57:30 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:30 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:30 [restartedMain] INFO  c.s.p.service.PasswordResetService - üîê PasswordResetService Initialized
2025-12-10 13:57:30 [restartedMain] INFO  c.s.p.service.PasswordResetService -   Token Expiry: 0 minutes
2025-12-10 13:57:30 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:30 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-10 13:57:30 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c24074cb-40d0-4fc9-9af1-fbf0c1366d3b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-10 13:57:30 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-10 13:57:30 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-10 13:57:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-10 13:57:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-10 13:57:31 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Started MultiTenantPlatformApplication in 3.506 seconds (process running for 732.798)
2025-12-10 13:57:31 [restartedMain] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.role=? 
    limit
        ?
2025-12-10 13:57:31 [restartedMain] INFO  c.s.p.config.StartupSuperAdminConfig - SUPER_ADMIN already exists ‚Üí skipping creation.
2025-12-10 13:57:31 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-10 13:57:46 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-12-10 13:57:46 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-10 13:57:46 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-10 13:57:46 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 13:57:46 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-12-10 13:57:46 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-12-10 13:57:46 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Starting MultiTenantPlatformApplication using Java 21.0.7 with PID 8468 (C:\Users\ankur\multi-tenant-platform\multi-tenant-platform\target\classes started by ankur in C:\Users\ankur\multi-tenant-platform\multi-tenant-platform)
2025-12-10 13:57:46 [restartedMain] DEBUG c.s.p.MultiTenantPlatformApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-12-10 13:57:46 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 10 JPA repository interfaces.
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ActivityLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ApiKeyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.FileStorageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.SubscriptionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.WebhookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 13:57:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-12-10 13:57:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-10 13:57:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-10 13:57:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-10 13:57:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-10 13:57:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 685 ms
2025-12-10 13:57:47 [restartedMain] DEBUG c.s.p.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-10 13:57:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10 13:57:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-10 13:57:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-10 13:57:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-12-10 13:57:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c4b1fd5
2025-12-10 13:57:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-12-10 13:57:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10 13:57:47 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-10 13:57:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-12-10 13:57:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 13:57:48 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:48 [restartedMain] INFO  c.saas.platform.service.EmailService - üìß EmailService Initialized
2025-12-10 13:57:48 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From: null
2025-12-10 13:57:48 [restartedMain] INFO  c.saas.platform.service.EmailService -   Mail From Name: null
2025-12-10 13:57:48 [restartedMain] INFO  c.saas.platform.service.EmailService -   Frontend URL: null
2025-12-10 13:57:48 [restartedMain] INFO  c.saas.platform.service.EmailService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:48 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:48 [restartedMain] INFO  c.s.p.service.PasswordResetService - üîê PasswordResetService Initialized
2025-12-10 13:57:48 [restartedMain] INFO  c.s.p.service.PasswordResetService -   Token Expiry: 0 minutes
2025-12-10 13:57:48 [restartedMain] INFO  c.s.p.service.PasswordResetService - ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
2025-12-10 13:57:48 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-10 13:57:48 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1866730c-09d4-447c-bd21-f6ea4a0c54d5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-10 13:57:48 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-10 13:57:48 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-10 13:57:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-12-10 13:57:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-10 13:57:49 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Started MultiTenantPlatformApplication in 2.264 seconds (process running for 750.576)
2025-12-10 13:57:49 [restartedMain] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.role=? 
    limit
        ?
2025-12-10 13:57:49 [restartedMain] INFO  c.s.p.config.StartupSuperAdminConfig - SUPER_ADMIN already exists ‚Üí skipping creation.
2025-12-10 13:57:49 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-12-10 13:59:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-10 13:59:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-10 13:59:31 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 694 ms
2025-12-10 13:59:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:59:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:59:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:59:32 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:32 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:59:32 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:32 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:32 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:59:34 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:34 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 1836ms
2025-12-10 13:59:34 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:59:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:59:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:59:35 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:35 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:59:35 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:35 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:35 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:35 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:59:36 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:36 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 314ms
2025-12-10 13:59:36 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:36 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 467ms
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:36 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:59:36 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 126ms
2025-12-10 13:59:36 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:36 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 325ms
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:36 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:59:36 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:36 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:36 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:36 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:59:37 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:37 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 172ms
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:37 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:59:37 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:37 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 264ms
2025-12-10 13:59:37 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:59:37 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:37 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:37 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 301ms
2025-12-10 13:59:37 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:59:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 13:59:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:59:41 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:41 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:59:41 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:42 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:42 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:59:42 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:42 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 146ms
2025-12-10 13:59:42 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 13:59:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 13:59:42 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:59:42 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:42 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:42 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 30ms
2025-12-10 13:59:42 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:42 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 400ms
2025-12-10 13:59:42 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 13:59:42 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 13:59:42 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 13:59:42 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 154ms
2025-12-10 13:59:42 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 14:00:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 14:00:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 14:00:21 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:21 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 14:00:21 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:21 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:21 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 14:00:22 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:22 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 272ms
2025-12-10 14:00:22 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 14:00:22 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 14:00:22 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:22 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 100ms
2025-12-10 14:00:22 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:22 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 14:00:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:22 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 80ms
2025-12-10 14:00:22 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:22 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:22 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 14:00:22 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:22 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:22 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/check-permission/1
2025-12-10 14:00:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/check-permission/1
2025-12-10 14:00:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/check-permission/1
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/check-permission/1
2025-12-10 14:00:24 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/check-permission/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:24 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:24 [http-nio-8080-exec-2] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:24 [http-nio-8080-exec-2] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 1600ms
2025-12-10 14:00:24 [http-nio-8080-exec-2] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:24 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/check-permission/1
2025-12-10 14:00:25 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/check-permission/1 completed in 826ms
2025-12-10 14:00:25 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/check-permission/1
2025-12-10 14:00:25 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/check-permission/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 14:00:25 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:25 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 206ms
2025-12-10 14:00:25 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:25 [http-nio-8080-exec-8] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/check-permission/1 completed in 321ms
2025-12-10 14:00:25 [http-nio-8080-exec-8] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 14:00:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 14:00:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 14:00:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/users/tenant/1
2025-12-10 14:00:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 14:00:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/subscriptions/tenant/1
2025-12-10 14:00:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/activities/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/analytics/dashboard/1
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 14:00:40 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 14:00:40 [http-nio-8080-exec-3] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:40 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:40 [http-nio-8080-exec-5] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 252ms
2025-12-10 14:00:40 [http-nio-8080-exec-5] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/subscriptions/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 14:00:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/users/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/subscriptions/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/subscriptions/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:40 [http-nio-8080-exec-9] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 727ms
2025-12-10 14:00:40 [http-nio-8080-exec-9] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/activities/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:40 [http-nio-8080-exec-4] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 734ms
2025-12-10 14:00:40 [http-nio-8080-exec-4] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:40 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:40 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/users/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/users/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:40 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:40 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:40 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.security.access.AccessDeniedException: Access denied: Only TENANT_OWNER, TENANT_ADMIN, or SUPER_ADMIN can view subscription details]
2025-12-10 14:00:40 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:40 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/activities/tenant/1
2025-12-10 14:00:40 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/activities/tenant/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:40 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:40 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:40 [http-nio-8080-exec-10] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:41 [http-nio-8080-exec-10] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/subscriptions/tenant/1 completed in 348ms
2025-12-10 14:00:41 [http-nio-8080-exec-10] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:40 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 14:00:41 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.ActivityLogController.getActivitiesByTenant(java.lang.Long); target is of class [com.saas.platform.controller.ActivityLogController]
2025-12-10 14:00:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    where
        u1_0.email=?
2025-12-10 14:00:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:41 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        u1_0.id,
        u1_0.active,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.last_login,
        u1_0.last_name,
        u1_0.password,
        u1_0.role,
        u1_0.tenant_id 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 14:00:41 [http-nio-8080-exec-1] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:41 [http-nio-8080-exec-1] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/users/tenant/1 completed in 873ms
2025-12-10 14:00:41 [http-nio-8080-exec-1] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:41 [http-nio-8080-exec-7] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:41 [http-nio-8080-exec-7] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/activities/tenant/1 completed in 972ms
2025-12-10 14:00:41 [http-nio-8080-exec-7] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:41 [http-nio-8080-exec-3] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/analytics/dashboard/1
2025-12-10 14:00:42 [http-nio-8080-exec-3] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:42 [http-nio-8080-exec-3] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 2029ms
2025-12-10 14:00:42 [http-nio-8080-exec-3] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Set tenant context: 1
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - JWT authentication successful for user: user@gmail.com with role: ROLE_USER (tenant: 1)
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/analytics/dashboard/1
2025-12-10 14:00:42 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Request: GET /api/analytics/dashboard/1 from 0:0:0:0:0:0:0:1
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant resolved from header: 1
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context set to: 1
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.saas.platform.controller.AnalyticsController.getDashboard(java.lang.Long); target is of class [com.saas.platform.controller.AnalyticsController]
2025-12-10 14:00:42 [http-nio-8080-exec-6] INFO  c.s.p.service.AnalyticsService - Generating dashboard metrics for tenant ID: 1
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        al1_0.id,
        al1_0.action,
        al1_0.action_type,
        al1_0.created_at,
        al1_0.details,
        al1_0.ip_address,
        al1_0.tenant_id,
        al1_0.user_agent,
        al1_0.user_email,
        al1_0.user_id,
        al1_0.user_name 
    from
        activity_logs al1_0 
    where
        al1_0.tenant_id=? 
    order by
        al1_0.created_at desc
2025-12-10 14:00:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        s1_0.id,
        s1_0.auto_renew,
        s1_0.created_at,
        s1_0.current_api_calls,
        s1_0.current_users,
        s1_0.end_date,
        s1_0.is_active,
        s1_0.plan,
        s1_0.start_date,
        s1_0.tenant_id,
        s1_0.updated_at 
    from
        subscriptions s1_0 
    left join
        tenants t1_0 
            on t1_0.id=s1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.database_name,
        t1_0.name,
        t1_0.status,
        t1_0.subdomain,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.id=?
2025-12-10 14:00:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    /* <criteria> */ select
        count(u1_0.id) 
    from
        users u1_0 
    left join
        tenants t1_0 
            on t1_0.id=u1_0.tenant_id 
    where
        t1_0.id=?
2025-12-10 14:00:53 [http-nio-8080-exec-6] INFO  c.s.p.service.AnalyticsService - Dashboard metrics generated successfully
2025-12-10 14:00:53 [http-nio-8080-exec-6] DEBUG c.s.p.multitenancy.TenantFilter - Tenant context cleared
2025-12-10 14:00:53 [http-nio-8080-exec-6] INFO  c.s.p.config.RequestLoggingFilter - API Response: GET /api/analytics/dashboard/1 completed in 10616ms
2025-12-10 14:00:53 [http-nio-8080-exec-6] DEBUG c.s.p.s.JwtAuthenticationFilter - Tenant context cleared after request
2025-12-10 14:02:17 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-12-10 14:02:17 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-10 14:02:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-10 14:02:17 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-12-10 14:02:17 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-12-10 14:02:17 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-12-10 14:02:20 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - Starting MultiTenantPlatformApplication using Java 21.0.7 with PID 8468 (C:\Users\ankur\multi-tenant-platform\multi-tenant-platform\target\classes started by ankur in C:\Users\ankur\multi-tenant-platform\multi-tenant-platform)
2025-12-10 14:02:20 [restartedMain] DEBUG c.s.p.MultiTenantPlatformApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-12-10 14:02:20 [restartedMain] INFO  c.s.p.MultiTenantPlatformApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 165 ms. Found 10 JPA repository interfaces.
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ActivityLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.ApiKeyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.FileStorageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.SubscriptionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.TenantSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.saas.platform.repository.WebhookRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-12-10 14:02:22 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
2025-12-10 14:02:23 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-10 14:02:23 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-10 14:02:23 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-12-10 14:02:23 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-10 14:02:23 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2413 ms
2025-12-10 14:02:23 [restartedMain] DEBUG c.s.p.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-12-10 14:02:23 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-10 14:02:23 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-10 14:02:23 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-10 14:02:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-12-10 14:02:23 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@559f3a12
2025-12-10 14:02:23 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-12-10 14:02:23 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-10 14:02:23 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.44
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
